<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>라이어 게임</title>
  <link rel="stylesheet" href="assets/styles/main.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- 로딩 화면 -->
  <div id="loading-screen" class="screen">
    <div class="loading-container">
      <h1>라이어 게임</h1>
      <div class="spinner"></div>
      <p>로딩 중...</p>
    </div>
  </div>

  <!-- 로그인 화면 -->
  <div id="login-screen" class="screen">
    <div class="login-container">
      <h1>라이어 게임</h1>
      <div class="login-form">
        <input type="text" id="nickname-input" placeholder="닉네임 (1-6자)" maxlength="6">
        <button id="login-button">게임 참가</button>
      </div>
      <div class="error-message" id="login-error"></div>
    </div>
  </div>

  <!-- 로비 화면 -->
  <div id="lobby-screen" class="screen">
    <div class="lobby-container">
      <h1>게임 로비</h1>
      <div class="lobby-content">
        <div class="player-list-container">
          <h2>참가자 목록</h2>
          <ul id="lobby-player-list"></ul>
        </div>
        <div class="game-options">
          <h2>게임 옵션</h2>
          <div class="option-item">
            <label for="game-mode">게임 모드:</label>
            <select id="game-mode">
              <option value="basic">기본 모드</option>
              <option value="spy">스파이 모드</option>
            </select>
          </div>
          <div class="option-description">
            <p id="mode-description">기본 모드: 라이어 한 명을 찾아내는 게임입니다.</p>
          </div>
          <button id="start-game-button">게임 시작</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 게임 시작 정보 화면 -->
  <div id="game-info-screen" class="screen">
    <div class="game-info-container">
      <h2>카테고리: <span id="info-category"></span></h2>
      <div id="info-role-container">
        <h3 id="info-role"></h3>
        <p id="info-word"></p>
      </div>
      <div class="timer-container">
        <div id="info-timer" class="timer">4</div>
      </div>
    </div>
  </div>

  <!-- 게임 화면 -->
  <div id="game-screen" class="screen">
    <div class="game-container">
      <!-- 상단 정보 영역 -->
      <div class="game-header">
        <div class="game-info">
          <h2>카테고리: <span id="game-category"></span></h2>
          <p id="game-word-container">단어: <span id="game-word"></span></p>
        </div>
        <div class="game-status">
          <div id="game-status-message"></div>
        </div>
        <div class="help-button">
          <button id="help-button">?</button>
        </div>
      </div>

      <!-- 게임 컨텐츠 영역 -->
      <div class="game-content">
        <!-- 좌측 플레이어 목록 -->
        <div class="player-list">
          <h3>플레이어 목록</h3>
          <ul id="game-player-list"></ul>
        </div>

        <!-- 중앙 채팅 및 게임 진행 영역 -->
        <div class="game-main">
          <div class="game-message-container" id="game-messages"></div>
          <div class="game-input-container">
            <input type="text" id="game-input" placeholder="발언을 입력하세요 (40자 이내)" maxlength="40">
            <button id="game-send">전송</button>
          </div>
        </div>

        <!-- 우측 투표 및 자유 채팅 영역 -->
        <div class="game-right">
          <!-- 투표 영역 (투표 시에만 표시) -->
          <div id="voting-container" class="voting-container">
            <h3>라이어 투표</h3>
            <div id="voting-timer" class="timer">20</div>
            <ul id="voting-list"></ul>
            <button id="vote-button">투표</button>
          </div>
          
          <!-- 라이어 추측 영역 (라이어가 발각되었을 때만 표시) -->
          <div id="liar-guess-container" class="liar-guess-container">
            <h3>단어 추측</h3>
            <div id="liar-timer" class="timer">20</div>
            <input type="text" id="liar-guess-input" placeholder="단어를 추측하세요">
            <button id="liar-guess-button">제출</button>
          </div>

          <!-- 자유 채팅 영역 -->
          <div class="free-chat-container">
            <h3>자유 채팅</h3>
            <div id="chat-messages" class="chat-messages"></div>
            <div class="chat-input-container">
              <input type="text" id="chat-input" placeholder="채팅을 입력하세요">
              <button id="chat-send">전송</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 게임 결과 화면 -->
  <div id="result-screen" class="screen">
    <div class="result-container">
      <h1>게임 결과</h1>
      <div id="result-message"></div>
      <div class="result-details">
        <div class="result-roles">
          <p>라이어: <span id="result-liar"></span></p>
          <p id="result-spy-container">스파이: <span id="result-spy"></span></p>
          <p>카테고리: <span id="result-category"></span></p>
          <p>단어: <span id="result-word"></span></p>
        </div>
        <div class="result-scores">
          <h3>점수</h3>
          <ul id="result-score-list"></ul>
        </div>
      </div>
      <div class="result-next">
        <p>다음 게임이 <span id="next-game-timer">10</span>초 후에 시작됩니다</p>
      </div>
    </div>
  </div>

  <!-- 도움말 모달 -->
  <div id="help-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>라이어 게임 도움말</h2>
      <div class="help-content">
        <h3>기본 규칙</h3>
        <p>1. 참가자 중 한 명은 라이어로 선정됩니다.</p>
        <p>2. 라이어를 제외한 모든 사람은 제시어를 알고 있습니다.</p>
        <p>3. 라이어는 제시어를 모르지만 카테고리는 알고 있습니다.</p>
        <p>4. 순서대로 돌아가며 제시어에 대해 설명합니다.</p>
        <p>5. 설명이 끝나면 누가 라이어인지 투표합니다.</p>
        <p>6. 라이어가 지목되면 라이어는 제시어를 추측할 기회가 있습니다.</p>
        <p>7. 라이어가 제시어를 맞추면 라이어의 승리, 틀리면 일반 참가자의 승리입니다.</p>
        
        <h3>스파이 모드</h3>
        <p>1. 스파이 모드에서는 라이어 외에 스파이가 한 명 더 선정됩니다.</p>
        <p>2. 스파이는 제시어를 알고 있으며, 라이어가 제시어를 알아챌 수 있도록 도와줍니다.</p>
        <p>3. 스파이가 발각되면 라이어와 스파이 모두 패배합니다.</p>
        
        <h3>점수 규칙</h3>
        <p>- 라이어 승리: 라이어 +3점, 스파이 +1점</p>
        <p>- 일반 참가자 승리: 라이어와 스파이를 제외한 참가자 +1점</p>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="js/socket.js"></script>
  <script src="js/game.js"></script>
  <script src="js/app.js"></script>
</body>
</html>